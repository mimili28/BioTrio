<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/" xmlns:a="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Booking</title>
    <link th:href="@{/css/nav.css}" href="/static/css/nav.css" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/table.css}" href="/static/css/table.css" rel="stylesheet" type="text/css"/>

</head>
<body>
<header>
    <div class="container">
        <a href="/"><h1>BIO<span>TRIO</span></h1></a>
        <nav>
            <ul>
                <li><a href="/moviesuser">Exit</a></li>
            </ul>
        </nav>
    </div>
</header>
<div class="mainContent">
    <h2>Bookings</h2>

    <div th:action="@{/bookings-phoneuser}" method="post"></div>
    <div th:if="${not #lists.isEmpty(search)}">

        <table id="table">
            <tr>
                <th>Booking id</th>
                <th>Row number</th>
                <th>Seat number</th>
                <th>Phone number</th>
                <th>Screening</th>
                <th>Cancel booking</th>

            </tr>

            <tr th:each="booking: ${search}">

                <th scope="row" th:text="${booking.getBooking_id()}">1</th>
                <td th:text="${booking.getSeat().getRowNo()}">{{Row no}}</td>
                <td th:text="${booking.getSeat().getSeatNo()}">{{Seat No}}</td>
                <td th:text="${booking.getPhone_no()}">{{Phone number}}</td>
                <td th:text="${booking.getScreening().getScreening_id()}">{{Screening}}</td>
                <td>
                    <a  role="button" class="button1" th:href="@{'/cancelbooking/' + ${booking.getScreening().getScreening_id()}}" onclick="validateForm()">Cancel booking</a>
                </td>
            </tr>
            <script>
                function validateForm() {
                    var x = document.getElementsByTagName("a");
                    alert("The booking has been cancelled");
                    return true;
                }
            </script>

        </table>
    </div>
    <div id="message"
         th:if="${#lists.isEmpty(search)}">
        NO AVAILABLE BOOKING FOR THIS PHONE NUMBER


    </div>
</div>
</body>
</html>